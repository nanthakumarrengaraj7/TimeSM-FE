<div class="container mt-4">
  <h3 class="text-center mb-4">User List</h3>

  <!-- Add User Button -->
  <div class="d-flex justify-content-end mb-3">
      <button class="btn btn-primary" (click)="adduser()">Add User</button>
  </div>

  <!-- Filters Section -->
  <div class="row mb-3">
      <div class="col-md-4">
          <input
              type="text"
              class="form-control"
              placeholder="Search Users"
              [(ngModel)]="searchTerm"
              (input)="filterUsers()"
          />
      </div>
      <div class="col-md-4">
          <select
              class="form-control"
              [(ngModel)]="selectedDepartment"
              (change)="filterUsers()"
          >
              <option value="">All Departments</option>
              <option *ngFor="let department of departments" [value]="department">
                  {{ department }}
              </option>
          </select>
      </div>
      <div class="col-md-4">
          <select
              class="form-control"
              [(ngModel)]="selectedBusinessUnit"
              (change)="filterUsers()"
          >
              <option value="">All Business Units</option>
              <option *ngFor="let bu of businessUnits" [value]="bu">
                  {{ bu }}
              </option>
          </select>
      </div>
  </div>

  <!-- User Table -->
  <div class="table-responsive">
      <table class="table table-bordered table-hover">
          <thead class="table-dark">
              <tr>
                  <th>Username</th>
                  <th>Email</th>
                  <th>Phone</th>
                  <th>Department</th>
                  <th>Business Unit</th>
                  <th>Actions</th>
              </tr>
          </thead>
          <tbody>
              <tr *ngFor="let user of filteredUsers">
                  <td>{{ user.username }}</td>
                  <td>{{ user.email }}</td>
                  <td>{{ user.phone }}</td>
                  <td>{{ user.department }}</td>
                  <td>{{ user.businessUnit }}</td>
                  <td>
                      <button class="btn btn-warning btn-sm me-2" (click)="editUser(user._id)">Edit</button>
                      <button class="btn btn-danger btn-sm" (click)="deleteUser(user._id)">Delete</button>
                  </td>
              </tr>
          </tbody>
      </table>
  </div>
</div>
